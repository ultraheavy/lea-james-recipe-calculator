{% extends "base_modern.html" %}

{% block title %}Dashboard - Lea James Recipe Calculator{% endblock %}

{% block content %}
<div class="animate-fade-in">
    <!-- Page Header -->
    <div class="mb-8">
        <h1 class="text-3xl font-semibold mb-2">Dashboard</h1>
        <p class="text-secondary">Welcome to your recipe cost management system</p>
    </div>
    
    <!-- Stats Grid -->
    <div class="grid grid-cols-1 grid-cols-2 grid-cols-4 gap-6 mb-8">
        <!-- Inventory Card -->
        <div class="card animate-slide-up" style="animation-delay: 0.1s;">
            <div class="card-body">
                <div class="flex items-start justify-between mb-4">
                    <div class="food-icon icon-misc">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M20 7H4a2 2 0 00-2 2v9a2 2 0 002 2h16a2 2 0 002-2V9a2 2 0 00-2-2z"/>
                            <path d="M20 7V5a2 2 0 00-2-2H6a2 2 0 00-2 2v2"/>
                        </svg>
                    </div>
                    <span class="badge badge-info">Active</span>
                </div>
                <h3 class="text-2xl font-bold mb-1">{{ stats.inventory_count }}</h3>
                <p class="text-secondary text-sm">Inventory Items</p>
                <div class="mt-4 pt-4 border-t border-gray-100">
                    <a href="/inventory" class="text-primary text-sm font-medium flex items-center gap-1">
                        View all
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 18l6-6-6-6"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Recipes Card -->
        <div class="card animate-slide-up" style="animation-delay: 0.2s;">
            <div class="card-body">
                <div class="flex items-start justify-between mb-4">
                    <div class="food-icon icon-grains">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                            <path d="M14 2v6h6M16 13H8m8 4H8m2-8H8"/>
                        </svg>
                    </div>
                    <span class="badge badge-success">Updated</span>
                </div>
                <h3 class="text-2xl font-bold mb-1">{{ stats.recipe_count }}</h3>
                <p class="text-secondary text-sm">Recipes</p>
                <div class="mt-4 pt-4 border-t border-gray-100">
                    <a href="/recipes" class="text-primary text-sm font-medium flex items-center gap-1">
                        Manage recipes
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 18l6-6-6-6"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Menu Items Card -->
        <div class="card animate-slide-up" style="animation-delay: 0.3s;">
            <div class="card-body">
                <div class="flex items-start justify-between mb-4">
                    <div class="food-icon icon-sauce">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="4" y="4" width="16" height="16" rx="2"/>
                            <path d="M9 9h6M9 15h6M12 9v6"/>
                        </svg>
                    </div>
                    <span class="badge badge-primary">Live</span>
                </div>
                <h3 class="text-2xl font-bold mb-1">{{ stats.menu_count }}</h3>
                <p class="text-secondary text-sm">Menu Items</p>
                <div class="mt-4 pt-4 border-t border-gray-100">
                    <a href="/menu" class="text-primary text-sm font-medium flex items-center gap-1">
                        View menu
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 18l6-6-6-6"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Vendors Card -->
        <div class="card animate-slide-up" style="animation-delay: 0.4s;">
            <div class="card-body">
                <div class="flex items-start justify-between mb-4">
                    <div class="food-icon icon-beverage">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 00-3-3.87m-4-12a4 4 0 010 7.75"/>
                        </svg>
                    </div>
                    <span class="badge badge-warning">{{ stats.vendor_count }}</span>
                </div>
                <h3 class="text-2xl font-bold mb-1">{{ stats.vendor_count }}</h3>
                <p class="text-secondary text-sm">Vendors</p>
                <div class="mt-4 pt-4 border-t border-gray-100">
                    <a href="/vendors" class="text-primary text-sm font-medium flex items-center gap-1">
                        Manage vendors
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 18l6-6-6-6"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quick Actions -->
    <div class="card mb-8">
        <div class="card-header">
            <h2 class="text-xl font-semibold">Quick Actions</h2>
        </div>
        <div class="card-body">
            <div class="grid grid-cols-1 grid-cols-2 grid-cols-4 gap-4">
                <a href="/inventory/add" class="btn btn-secondary flex items-center justify-center gap-2">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 8v8m-4-4h8"/>
                    </svg>
                    Add Inventory
                </a>
                
                <a href="/recipes/add" class="btn btn-secondary flex items-center justify-center gap-2">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                        <path d="M14 2v6h6"/>
                        <path d="M12 18v-6m-3 3h6"/>
                    </svg>
                    New Recipe
                </a>
                
                <a href="/pricing-analysis" class="btn btn-secondary flex items-center justify-center gap-2">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                    </svg>
                    Price Analysis
                </a>
                
                <a href="/menu/compare" class="btn btn-secondary flex items-center justify-center gap-2">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 4H6v16m12 0H6m12 0l-3-3m3 3l-3 3"/>
                    </svg>
                    Compare Menus
                </a>
            </div>
        </div>
    </div>
    
    <!-- Recent Activity & Insights -->
    <div class="grid grid-cols-1 grid-cols-2 gap-6">
        <!-- Recent Activity -->
        <div class="card">
            <div class="card-header flex justify-between items-center">
                <h2 class="text-xl font-semibold">Recent Activity</h2>
                <span class="text-sm text-secondary">Last 7 days</span>
            </div>
            <div class="card-body p-0">
                <div class="divide-y divide-gray-100">
                    <div class="p-4 flex items-center gap-3">
                        <div class="food-icon food-icon-sm icon-produce">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M12 8v8m-4-4h8"/>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="font-medium text-sm">New inventory item added</p>
                            <p class="text-xs text-secondary">Organic Tomatoes - 2 hours ago</p>
                        </div>
                    </div>
                    
                    <div class="p-4 flex items-center gap-3">
                        <div class="food-icon food-icon-sm icon-grains">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M16 21v-2a4 4 0 00-8 0v2"/>
                                <circle cx="12" cy="7" r="4"/>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="font-medium text-sm">Recipe updated</p>
                            <p class="text-xs text-secondary">Caesar Salad - 5 hours ago</p>
                        </div>
                    </div>
                    
                    <div class="p-4 flex items-center gap-3">
                        <div class="food-icon food-icon-sm icon-misc">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M12 2v20M2 12h20"/>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="font-medium text-sm">Price analysis completed</p>
                            <p class="text-xs text-secondary">15 items analyzed - Yesterday</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Cost Insights -->
        <div class="card">
            <div class="card-header">
                <h2 class="text-xl font-semibold">Cost Insights</h2>
            </div>
            <div class="card-body">
                <div class="space-y-4">
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm font-medium">Average Food Cost</span>
                            <span class="text-sm font-semibold text-primary">28.5%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-primary h-2 rounded-full" style="width: 28.5%"></div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm font-medium">Target Food Cost</span>
                            <span class="text-sm font-semibold text-success">30%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-success h-2 rounded-full" style="width: 30%"></div>
                        </div>
                    </div>
                    
                    <div class="pt-4 mt-4 border-t border-gray-100">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-2xl font-bold text-success">$2,450</p>
                                <p class="text-sm text-secondary">Potential monthly savings</p>
                            </div>
                            <a href="/pricing-analysis" class="btn btn-sm btn-primary">
                                View Details
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Animation delays for staggered effect */
    .animate-slide-up {
        animation: slideInUp 0.5s ease-out forwards;
        opacity: 0;
    }
    
    .space-y-4 > * + * {
        margin-top: 1rem;
    }
    
    .divide-y > * + * {
        border-top-width: 1px;
    }
</style>
{% endblock %}