/* Mobile Button Improvements for Modern Theme */

/* ========================================
   BUTTON SIZE STANDARDS
   ======================================== */
:root {
  /* Touch Target Sizes */
  --btn-min-height: 44px;        /* Apple HIG minimum */
  --btn-comfortable-height: 48px; /* Comfortable size */
  --btn-large-height: 56px;      /* Large buttons */
  
  /* Padding */
  --btn-padding-y: 12px;
  --btn-padding-x: 20px;
  --btn-padding-y-mobile: 14px;
  --btn-padding-x-mobile: 16px;
}

/* ========================================
   MOBILE BUTTON STYLES (< 768px)
   ======================================== */
@media (max-width: 767px) {
  /* Base button styles for mobile */
  .btn,
  button:not(.mobile-menu-toggle):not(.mobile-menu-close):not(.theme-toggle-btn),
  a.btn,
  input[type="submit"],
  input[type="button"] {
    min-height: var(--btn-comfortable-height) !important;
    padding: var(--btn-padding-y-mobile) var(--btn-padding-x-mobile) !important;
    font-size: 1rem !important;
    touch-action: manipulation; /* Prevent double-tap zoom */
  }
  
  /* Quick Action Cards - Make them taller */
  .quick-action-card {
    min-height: var(--btn-large-height) !important;
    padding: 1rem !important;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
  }
  
  /* Stat card links */
  .stat-card a {
    display: inline-flex;
    align-items: center;
    min-height: var(--btn-min-height);
    padding: 0.75rem 1rem;
    margin-top: 0.5rem;
  }
  
  /* Link buttons that look like text */
  a:not(.btn):not(.navbar-link) {
    padding: 0.5rem;
    margin: -0.5rem; /* Compensate for padding */
    display: inline-block;
    min-height: var(--btn-min-height);
    line-height: var(--btn-min-height);
  }
  
  /* Form elements */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="search"],
  textarea,
  select {
    min-height: var(--btn-comfortable-height) !important;
    padding: var(--btn-padding-y-mobile) var(--btn-padding-x-mobile) !important;
    font-size: 1rem !important; /* Prevent zoom on iOS */
  }
  
  /* Dropdown selects */
  select {
    padding-right: 2.5rem !important; /* Space for arrow */
    background-position: right 1rem center !important;
  }
  
  /* Small buttons in tables/lists */
  .btn-sm,
  .table .btn {
    min-height: var(--btn-min-height) !important;
    padding: 0.625rem 1rem !important;
    font-size: 0.875rem !important;
  }
  
  /* Icon buttons */
  .btn-icon,
  .icon-btn {
    min-width: var(--btn-comfortable-height) !important;
    min-height: var(--btn-comfortable-height) !important;
    padding: 0.75rem !important;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Floating action button */
  .theme-toggle-btn {
    width: var(--btn-large-height) !important;
    height: var(--btn-large-height) !important;
  }
  
  /* Add visual feedback for better UX */
  .btn:active,
  button:active,
  a.btn:active {
    transform: scale(0.97);
    opacity: 0.9;
  }
  
  /* Ensure proper spacing between buttons */
  .btn + .btn,
  button + button {
    margin-left: 0.5rem;
  }
  
  /* Button groups in mobile */
  .btn-group-mobile {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: 100%;
  }
  
  .btn-group-mobile .btn {
    width: 100%;
    justify-content: center;
  }
  
  /* Fix specific Modern theme elements */
  
  /* Dashboard stat cards */
  .stat-card {
    padding: 1.5rem !important;
  }
  
  /* Quick actions grid on mobile */
  .quick-actions {
    margin-top: 2rem;
  }
  
  .quick-actions .grid {
    gap: 1rem !important;
  }
  
  /* Inventory/Recipe action buttons */
  .action-buttons {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }
  
  .action-buttons .btn {
    flex: 1;
    min-width: 120px;
  }
  
  /* Table action buttons */
  .table-actions {
    display: flex;
    gap: 0.5rem;
  }
  
  .table-actions .btn {
    padding: 0.5rem !important;
    min-width: var(--btn-min-height);
  }
  
  /* Modal buttons */
  .modal-footer .btn {
    min-width: 100px;
  }
  
  /* Search bar button */
  .search-form button {
    min-width: var(--btn-comfortable-height);
  }
}

/* ========================================
   ACCESSIBILITY IMPROVEMENTS
   ======================================== */
@media (max-width: 767px) {
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .btn,
    button,
    a.btn {
      border-width: 2px !important;
    }
  }
  
  /* Focus states for mobile */
  .btn:focus,
  button:focus,
  a.btn:focus,
  input:focus,
  select:focus,
  textarea:focus {
    outline: 3px solid var(--primary-color, #6366f1);
    outline-offset: 2px;
  }
  
  /* Disable hover effects on touch devices */
  @media (hover: none) {
    .btn:hover,
    button:hover,
    a.btn:hover {
      transform: none;
    }
  }
}

/* ========================================
   SPECIFIC FIXES FOR MODERN THEME
   ======================================== */
.theme-modern {
  /* Fix floating theme toggle button */
  .theme-toggle {
    bottom: 1.5rem;
    right: 1.5rem;
  }
  
  /* Ensure proper button colors on mobile */
  @media (max-width: 767px) {
    .btn-primary {
      background: var(--primary-color);
      color: white;
      font-weight: 500;
    }
    
    .btn-secondary {
      background: var(--gray-100);
      color: var(--gray-700);
      border: 1px solid var(--gray-300);
    }
    
    /* Fix link styling that might be too small */
    .card a:not(.btn) {
      font-weight: 500;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }
  }
}