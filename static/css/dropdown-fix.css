/* Dropdown Menu Fixes */

/* Ensure dropdown has proper z-index and background */
.dropdown-menu {
    /* Override existing styles with higher specificity */
    background: var(--surface-color, #ffffff) !important;
    background-color: var(--surface-color, #ffffff) !important;
    opacity: 1 !important;
    z-index: 9999 !important; /* Very high z-index to ensure it's on top */
    box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.15), 
                0 4px 8px -2px rgba(0, 0, 0, 0.08) !important;
    border: 1px solid var(--border-color, #e5e7eb) !important;
}

/* Ensure the dropdown container doesn't clip */
.navbar-dropdown {
    z-index: 9998 !important;
}

/* Make sure dropdown menu is visible when active */
.navbar-dropdown.active .dropdown-menu {
    opacity: 1 !important;
    visibility: visible !important;
    pointer-events: auto !important;
}

/* Ensure dropdown items have solid background */
.dropdown-item {
    background-color: transparent;
    position: relative;
    z-index: 1;
}

.dropdown-item:hover {
    background-color: rgba(99, 102, 241, 0.1) !important; /* Using primary color with low opacity */
}

.dropdown-item.active {
    background-color: rgba(99, 102, 241, 0.15) !important;
}

/* Dark mode support */
[data-theme="dark"] .dropdown-menu {
    background: var(--surface-color, #1f2937) !important;
    background-color: var(--surface-color, #1f2937) !important;
    border-color: var(--border-color, #374151) !important;
}

[data-theme="dark"] .dropdown-item:hover {
    background-color: rgba(99, 102, 241, 0.2) !important;
}

[data-theme="dark"] .dropdown-item.active {
    background-color: rgba(99, 102, 241, 0.25) !important;
}

/* Ensure navbar has proper stacking context */
.navbar {
    position: relative;
    z-index: 1000;
}

/* Desktop specific fixes */
@media (min-width: 769px) {
    .dropdown-menu {
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }
}